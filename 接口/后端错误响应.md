# 后端错误响应

后端 API 部分，所有接口如果发生了错误（参数格式不正确、没有权限访问等），接口返回非 200 响应，其 HTTP 状态码按照本意进行诠释。

大致如下（实际编写时最好先测试以下）：

| 错误 | 状态码 |
| --- | ----- |
| 参数缺失 | 400 |
| 参数验证失败（格式不正确、不符合要求，或邮箱、用户名已被占用） | 400 |
| 未登录时试图获取用户信息 | 401 |
| 试图获取非当前登录用户的信息 | 403 |
| 重置密码等危险操作时 token 无效 | 403 |
| 没有找到资源 | 404 |

对于参数缺失或验证失败的情况，返回的 JSON 是个对象，按接口所需参数的格式标记有错误的 key，例如，登录需要传入：

```json
{
    "username": "someone",
    "password": "some-password"
}
```

此时如果 `username` 未传入，则返回类似如下的响应：

```json
{
    "username": "此为必填项。"
}
```

对于其它错误，REST Framework 会返回一个 `detail` 字段，给出错误的具体解释，例如：

```json
{
    "detail": "身份认证信息未提供。"
}
```
